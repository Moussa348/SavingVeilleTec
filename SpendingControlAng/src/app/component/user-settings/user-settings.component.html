<app-nav></app-nav>

<div class="container">
  <div class="row">
    <div class="p-5"></div>
    <mat-divider class="text-light border border-3"></mat-divider>
    <div class="p-4"></div>
    <div
      class="
        row
        d-flex
        justify-content-center
        text-uppercase
        font-weight-bold
        text-light text-center
      "
    >
      <h1 style="font-family: 'Times New Roman', Times, serif" @fade>
        User Settings <i class="fas fa-user-cog"></i>
      </h1>
    </div>
    <div class="p-4"></div>
    <mat-divider class="text-light border border-3"></mat-divider>
    <div class="p-4"></div>
  </div>

  <div class="flex-row d-flex justify-content-center">
      <img
        [src]="['http://localhost:4444/person/getPicture/' + id]"
        alt="vaccinCovid"
        class="rounded-circle shadow border"
      />
  </div>

  <div class="flex-row">
      <div class="p-5"></div>
  </div>

  <div class="flex-row d-flex justify-content-center">
    <button
      class="btn btn-lg btn-danger rounded-pill border border-3 shadow p-4"
      (click)="disableAccount()"
    >
      Disable Account <i class="fas fa-user-alt-slash"></i>
    </button>
  </div>

  <div class="flex-row">
    <div class="p-5"></div>
</div>

  <div class="flex-row d-flex justify-content-center">
    <div class="card container bg-transparent blur shadow-lg border rounded">
      <form [formGroup]="registrationForm">
        <div class="m-3">
          <div class="flex-row text-start">
            <label for="picture" class="form-label text-light text-start"
              >Change Profile Picture</label
            >
          </div>
          <div class="flex-row">
            <input class="form-control" formControlName="picture" type="file" id="picture" />
          </div>
        </div>

        <div class="m-3">
          <div class="flex-row text-start">
            <label for="exampleInputPassword1" class="form-label text-light"
              >New Password</label
            >
          </div>
          <div class="flex-row text-end">
            <input
              #pass
              type="password"
              class="form-control {{
                isFieldTouched('password')
                  ? validateField('password')
                    ? validateSamePassword()
                      ? 'is-valid'
                      : 'is-invalid'
                    : ''
                  : ''
              }}"
              formControlName="password"
              placeholder="min 8 character and max 40 character"
              id="password"
            />
            <span class="text-light">{{ pass.value.length }} / 40</span>
          </div>
        </div>

        <div class="m-3">
          <div class="flex-row text-start">
            <label for="passwordAgain" class="form-label text-light"
              >ConfirmNew Password</label
            >
          </div>
          <div class="flex-row text-end">
            <input
              #passAgain
              type="password"
              formControlName="passwordAgain"
              placeholder="min 8 character and max 40 character"
              class="form-control {{
                isFieldTouched('passwordAgain')
                  ? validateField('passwordAgain')
                    ? validateSamePassword()
                      ? 'is-valid'
                      : 'is-invalid'
                    : ''
                  : ''
              }}"
              id="passwordAgain"
              min="8"
              max="40"
            />
            <span class="text-light">{{ passAgain.value.length }} / 40</span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="flex-row">
    <div class="p-5"></div>
    <div class="p-5"></div>
  </div>
  <app-footer class="position-sticky"></app-footer>
